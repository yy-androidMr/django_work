<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>ckplayer</title>
    <script type="text/javascript" src="/static/projects/gallery/video_player/js/video.js" charset="UTF-8"></script>
    <script type="text/javascript" src="/static/projects/gallery/video_player/js/videojs-contrib-hls.min.js"
            charset="UTF-8"></script>
    <link rel="stylesheet" href="/static/projects/gallery/video_player/css/video-js.min.css">

    <script>
        {#        window.onload = function () {#}
        {#            function addSourceToVideo(element, src, type) {#}
        {#                var source = document.createElement("source");#}
        {#                source.id = "video_source";#}
        {#            source.src = src;#}
        {#                source.type = type;#}
        {#                element.appendChild(source);#}
        {#            }#}
        {##}
        {#            function insertVideo(src, type, width, height) {#}
        {#                var vid = document.createElement("video");#}
        {#                vid.controls = "controls";#}
        {#                vid.autoplay = "autoplay";#}
        {#                vid.className = "video-js vjs-default-skin";#}
        {#        class=""#}
        {#                vid.width = width;#}
        {#                vid.height = height;#}
        {#                vid.id = "video_control";#}
        {#                vid.muted = false;#}
        {#                addSourceToVideo(vid, src, type);#}
        {#                document.getElementById("show").appendChild(vid);#}
        {#            }#}
        {##}
        {#            function playVideo(src) {#}
        {#                var video = document.getElementById("video_control");#}
        {#                if (video == undefined) {#}
        {#                    insertVideo(src, "application/x-mpegURL", 604, 256);#}
        {#                    video = document.getElementById("video_control");#}
        {#                }#}
        {#                video.play();#}
        {#            }#}
        {##}
        {#            var url = "/static/media/movie" + sessionStorage.getItem('url');#}
        {#            playVideo(url);#}
        {#            document.getElementById("video_source").src = url;#}
        {#            var player = videojs('video_control');#}
        {#            player.play();#}
        {#            player.requestFullscreen();#}
        {#        }#}


    </script>
</head>
<body>
<video id="video_control" class="video-js vjs-default-skin" webkit-playsinline="false" style="object-fit:fill"
       autoplay
       controls>
    <source
            id="video_source"
            src="/static/media/movie/电视剧1/a9203849b98945c5f56ddaad6d85fab9.ym3/out.m3u8"
            type="application/x-mpegURL">
</video>

<a onclick="requestFullScreen()">sadfsadf</a>
{#<div id="show"></div>#}
<script>


    function requestFullScreen() {
        var de = document.documentElement;
        if (de.requestFullscreen) {
            de.requestFullscreen();
        } else if (de.mozRequestFullScreen) {
            de.mozRequestFullScreen();
        } else if (de.webkitRequestFullScreen) {
            de.webkitRequestFullScreen();
        }
    }

        var player = videojs('video_control', {}, function () {
            this.on('ended', function () {
                console.log('结束播放');
            });
            this.on('firstplay', function () {
                console.log('第一次播放');
                requestFullScreen();
                player.requestFullscreen();
            });
            this.on('play', function () {
                console.log('播放');
            });
        });
    player.load();
    player.play();

    {#    setTimeout("requestFullScreen()", 5000);#}
    {#    setTimeout(requestFullScreen(), 3000);#}
    {#    player.requestFullscreen();#}

    {#/static/media/movie/电视剧1/a9203849b98945c5f56ddaad6d85fab9.ym3/out.m3u8#}
</script>
</body>

</html>